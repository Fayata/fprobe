<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ID Probe Status - Monitoring Uptime</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="sidebar">
        <div class="logo">
            <h1>
                <svg class="icon-large" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"/>
                </svg>
                ID Probe
            </h1>
            <p>Monitoring System</p>
        </div>

        <ul class="menu">
            <li class="menu-item">
                <a href="#" class="menu-link active">
                    <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
                    </svg>
                    Dashboard
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link">
                    <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"/>
                    </svg>
                    Target URL
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link">
                    <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
                    </svg>
                    Scheduler
                </a>
            </li>
        </ul>
    </div>
    <div class="main-content">
        <div class="header-bar">
            <h2>Dashboard Overview</h2>
            <div style="color: #a0a0a0; font-size: 0.9em;">
                <svg class="icon" fill="currentColor" viewBox="0 0 24 24" style="vertical-align: middle; margin-right: 6px;">
                    <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                </svg>
                Last updated: 2 minutes ago
            </div>
        </div>
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-label">
                    <svg class="icon" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                    Total Uptime
                </div>
                <div class="stat-value">99.8%</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">
                    <svg class="icon" fill="currentColor" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg>
                    Active URLs
                </div>
                <div class="stat-value">{{len .URLs}}</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">
                    <svg class="icon" fill="currentColor" viewBox="0 0 24 24"><path d="M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z"/></svg>
                    Avg Response
                </div>
                <div class="stat-value">... ms</div>
            </div>
        </div>
        <div class="card">
            <h2 class="card-title">
                <svg class="icon" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"/></svg>
                Tambah URL Baru
            </h2>
            <form action="/add" method="POST">
                <div class="input-group">
                    <input type="text" name="url" placeholder="Contoh: cloudtech.id" required>
                    <button type="submit" class="btn">
                        <svg class="icon" fill="currentColor" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                        Tambah
                    </button>
                </div>
            </form>
        </div>

        <div class="card">
            <h2 class="card-title">
                <svg class="icon" fill="currentColor" viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/></svg>
                Pengaturan Scheduler
            </h2>
            <form action="/settings" method="POST">
                <div class="input-group">
                    <select name="interval">
                        <option value="@every 1m" {{if eq .CurrentInterval "@every 1m"}}selected{{end}}>Setiap 1 Menit (Testing)</option>
                        <option value="@every 5m" {{if eq .CurrentInterval "@every 5m"}}selected{{end}}>Setiap 5 Menit</option>
                        <option value="@every 10m" {{if eq .CurrentInterval "@every 10m"}}selected{{end}}>Setiap 10 Menit</option>
                        <option value="@every 30m" {{if eq .CurrentInterval "@every 30m"}}selected{{end}}>Setiap 30 Menit</option>
                    </select>
                    <button type="submit" class="btn">
                        <svg class="icon" fill="currentColor" viewBox="0 0 24 24"><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/></svg>
                        Simpan Jadwal
                    </button>
                </div>
            </form>
        </div>
        <div class="card">
            <h2 class="card-title">
                <svg class="icon" fill="currentColor" viewBox="0 0 24 24"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"/></svg>
                Daftar Target URL
            </h2>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th><svg class="icon" fill="currentColor" viewBox="0 0 24 24"><path d="M3 3v18h18V3H3zm16 16H5V5h14v14zM11 7h2v2h-2zm0 4h2v6h-2z"/></svg><span>Status</span></th>
                            <th><svg class="icon" fill="currentColor" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg><span>URL</span></th>
                            <th><svg class="icon" fill="currentColor" viewBox="0 0 24 24"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/></svg><span>Kode Status</span></th>
                            <th><svg class="icon" fill="currentColor" viewBox="0 0 24 24"><path d="M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z"/></svg><span>Latency (Last)</span></th>
                            <th><svg class="icon" fill="currentColor" viewBox="0 0 24 24"><path d="M5 9.2h3V19H5zM10.6 5h2.8v14h-2.8zm5.6 8H19v6h-2.8z"/></svg><span>Latency (Avg)</span></th>
                            <th><svg class="icon" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg><span>Uptime</span></th>
                            <th><svg class="icon" fill="currentColor" viewBox="0 0 24 24"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg><span>Terakhir Dicek</span></th>
                            <th><svg class="icon" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg><span>Aksi</span></th>
                        </tr>
                    </thead>
                    <tbody>
                        {{range .URLs}}
                        <tr>
                            <td>
                                {{if .IsUp}}
                                    <span class="status-badge status-up">Up</span>
                                {{else}}
                                    <span class="status-badge status-down">Down</span>
                                {{end}}
                            </td>
                            <td>
                                <a href="{{.URL}}" class="url-link" target="_blank">{{.URL}}</a>
                            </td>
                            <td>
                                <span class="status-code">{{.LastStatus}}</span>
                            </td>
                            <td class="latency">{{.LastLatencyMs}} ms</td>
                            <td class="latency">{{.GetAverageLatency}}</td>
                            <td class="date-time">{{.GetUptime}}</td> 
                            <td class="date-time">{{.LastChecked.Format "02 Jan 15:04:05"}}</td>
                            <td>
                                <a href="/delete/{{.ID}}" class="action-delete" onclick="return confirm('Yakin ingin menghapus {{.URL}}?')">
                                    <svg class="icon" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                                    </svg>
                                    Hapus
                                </a>
                            </td>
                        </tr>
                        {{else}}
                        <tr>
                            <td colspan="8" class="empty-state">
                                Belum ada URL. Silakan tambahkan di atas.
                            </td>
                        </tr>
                        {{end}}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</body>
</html>

